--- clive-0.4.3/clive/parse.py~	2008-01-25 02:37:04.087918332 +0200
+++ clive-0.4.3/clive/parse.py	2008-01-25 02:37:22.658094354 +0200
@@ -50,6 +50,7 @@
 			('guba.com', 'guba', self._parse_guba),
 			('stage6.', 'stage6', self._parse_stage6),
 			('metacafe.', 'metac', self._parse_metacafe),
+			('delfi.', 'delfi', self._parse_delfi),
 		]
 
 	## Parses a video page data (HTML).
@@ -184,6 +185,16 @@
 
 		return (url, vid)
 
+	def _parse_delfi(self, url, data):
+		text = self._parse_from_to(data, "flv_url:", ",")
+		try:
+			url = urllib.unquote(text.replace("'", "").split('flv_url: ',2)[1])
+		except IndexError:
+			pass
+
+		vid = md5.new(str(time.time())).hexdigest()[:8]
+		return (url, vid)
+
 	def _parse_from_to(self, data, _from, to, skip_from=0):
 		start = data.find(_from)
 		end = data.find(to, start)
